<odoo>
    <!-- Tâche automatique pour génération mensuelle -->
    <record id="ir_cron_reliquat_monthly" model="ir.cron">
        <field name="name">Génération automatique rapport mensuel reliquats</field>
        <field name="model_id" ref="model_reliquat_report"/>
        <field name="state">code</field>
        <field name="code">
# Code pour génération automatique mensuelle
from datetime import datetime, timedelta
from dateutil.relativedelta import relativedelta

today = datetime.now().date()
first_day_last_month = today.replace(day=1) - relativedelta(months=1)
last_day_last_month = today.replace(day=1) - timedelta(days=1)

report_name = f"Rapport mensuel automatique - {first_day_last_month.strftime('%B %Y')}"

report = env['reliquat.report'].create({
    'name': report_name,
    'date_from': first_day_last_month,
    'date_to': last_day_last_month,
    'period_type': 'monthly',
})

report.generate_report_data()
report.action_confirm()
        </field>
        <field name="interval_number">1</field>
        <field name="interval_type">months</field>
        <field name="numbercall">-1</field>
        <field name="active">True</field>
    </record>
</odoo>