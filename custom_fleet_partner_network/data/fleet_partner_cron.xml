<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- ================================================================= -->
        <!-- PHASE 2: Contract Management Cron                                 -->
        <!-- ================================================================= -->
        
        <!-- Tâche planifiée: Expiration automatique des contrats (Phase 2) -->
        <record id="ir_cron_expire_partner_contracts" model="ir.cron">
            <field name="name">Fleet Partner Network: Auto-Expire Contracts</field>
            <field name="model_id" ref="model_fleet_partner_contract"/>
            <field name="state">code</field>
            <field name="code">model.cron_expire_contracts()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="active" eval="True"/>
            <field name="user_id" ref="base.user_admin"/>
        </record>

        <!-- ================================================================= -->
        <!-- PHASE 3: Incident Management Crons (TASK-011)                     -->
        <!-- ================================================================= -->

        <!-- Daily Incident Alerts -->
        <record id="ir_cron_incident_alerts" model="ir.cron">
            <field name="name">Fleet Partner Network: Alertes incidents quotidiennes</field>
            <field name="model_id" ref="model_fleet_incident_ticket"/>
            <field name="state">code</field>
            <field name="code">model.cron_send_incident_alerts()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="active" eval="True"/>
            <field name="user_id" ref="base.user_admin"/>
        </record>

        <!-- Weekly Incident Digest -->
        <record id="ir_cron_incident_digest" model="ir.cron">
            <field name="name">Fleet Partner Network: Digest incidents hebdomadaire</field>
            <field name="model_id" ref="model_fleet_incident_ticket"/>
            <field name="state">code</field>
            <field name="code">model.cron_send_incident_digest()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">weeks</field>
            <field name="active" eval="True"/>
            <field name="user_id" ref="base.user_admin"/>
        </record>

    </data>
</odoo>
